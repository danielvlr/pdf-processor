PDF-PROCESSOR - ESTRUTURA COMPLETA DO PROJETO
=============================================

pdf-processor/
â”‚
â”œâ”€â”€ ğŸ“„ package.json              # Root workspace config
â”œâ”€â”€ ğŸ“„ docker-compose.yml        # Docker orchestration
â”œâ”€â”€ ğŸ“„ .gitignore               # Git ignore rules
â”œâ”€â”€ ğŸ“„ README.md                # Main documentation
â”œâ”€â”€ ğŸ“„ QUICK_START.md           # Quick start guide
â”œâ”€â”€ ğŸ“„ ARCHITECTURE.md          # Architecture documentation
â”œâ”€â”€ ğŸ“„ PROJECT_STRUCTURE.txt    # This file
â”œâ”€â”€ ğŸ”§ setup.sh                 # Setup script (Linux/Mac)
â”œâ”€â”€ ğŸ”§ setup.bat                # Setup script (Windows)
â”‚
â”œâ”€â”€ ğŸ“ backend/                 # Backend API (Node.js + TypeScript)
â”‚   â”œâ”€â”€ ğŸ“„ package.json         # Backend dependencies
â”‚   â”œâ”€â”€ ğŸ“„ tsconfig.json        # TypeScript config
â”‚   â”œâ”€â”€ ğŸ“„ jest.config.js       # Jest test config
â”‚   â”œâ”€â”€ ğŸ“„ Dockerfile           # Docker image config
â”‚   â”œâ”€â”€ ğŸ“„ .dockerignore        # Docker ignore rules
â”‚   â”œâ”€â”€ ğŸ“„ .env.example         # Environment variables template
â”‚   â”œâ”€â”€ ğŸ“„ .env                 # Environment variables (local)
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ src/                 # Source code
â”‚       â”œâ”€â”€ ğŸ“„ index.ts         # Application entry point
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ routes/          # API routes
â”‚       â”‚   â””â”€â”€ ğŸ“„ process.route.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ controllers/     # Request handlers
â”‚       â”‚   â”œâ”€â”€ ğŸ“„ process.controller.ts
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ ğŸ“ __tests__/
â”‚       â”‚       â””â”€â”€ ğŸ“„ process.controller.test.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ services/        # Business logic
â”‚       â”‚   â”œâ”€â”€ ğŸ“„ pdf.service.ts
â”‚       â”‚   â”œâ”€â”€ ğŸ“„ image.service.ts
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ ğŸ“ __tests__/
â”‚       â”‚       â”œâ”€â”€ ğŸ“„ pdf.service.test.ts
â”‚       â”‚       â””â”€â”€ ğŸ“„ image.service.test.ts
â”‚       â”‚
â”‚       â””â”€â”€ ğŸ“ middleware/      # Express middleware
â”‚           â””â”€â”€ ğŸ“„ error.middleware.ts
â”‚
â”œâ”€â”€ ğŸ“ frontend/                # Frontend SPA (React + TypeScript)
â”‚   â”œâ”€â”€ ğŸ“„ package.json         # Frontend dependencies
â”‚   â”œâ”€â”€ ğŸ“„ tsconfig.json        # TypeScript config
â”‚   â”œâ”€â”€ ğŸ“„ tsconfig.node.json   # TypeScript config for Node
â”‚   â”œâ”€â”€ ğŸ“„ vite.config.ts       # Vite build config
â”‚   â”œâ”€â”€ ğŸ“„ index.html           # HTML template
â”‚   â”œâ”€â”€ ğŸ“„ Dockerfile           # Docker image config
â”‚   â”œâ”€â”€ ğŸ“„ .dockerignore        # Docker ignore rules
â”‚   â”œâ”€â”€ ğŸ“„ nginx.conf           # Nginx config for production
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ public/              # Static assets
â”‚   â”‚   â””â”€â”€ ğŸ“„ vite.svg
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ src/                 # Source code
â”‚       â”œâ”€â”€ ğŸ“„ main.tsx         # Application entry point
â”‚       â”œâ”€â”€ ğŸ“„ App.tsx          # Main component
â”‚       â”œâ”€â”€ ğŸ“„ App.css          # Component styles
â”‚       â””â”€â”€ ğŸ“„ index.css        # Global styles
â”‚
â””â”€â”€ ğŸ“ node_modules/            # Dependencies (ignored by git)


ARQUIVOS PRINCIPAIS POR FUNÃ‡ÃƒO
================================

ğŸš€ INICIALIZAÃ‡ÃƒO
  - backend/src/index.ts          â†’ Express server setup
  - frontend/src/main.tsx          â†’ React app initialization

ğŸ¨ INTERFACE DE USUÃRIO
  - frontend/src/App.tsx           â†’ Upload form + report display
  - frontend/src/App.css           â†’ Styling
  - frontend/index.html            â†’ HTML template

ğŸ”§ PROCESSAMENTO CORE
  - backend/src/services/pdf.service.ts        â†’ PDF manipulation
  - backend/src/services/image.service.ts      â†’ Image conversion
  - backend/src/controllers/process.controller.ts â†’ Orchestration

ğŸ›£ï¸ ROTAS E API
  - backend/src/routes/process.route.ts        â†’ POST /api/process

ğŸ§ª TESTES
  - backend/src/services/__tests__/pdf.service.test.ts
  - backend/src/services/__tests__/image.service.test.ts
  - backend/src/controllers/__tests__/process.controller.test.ts

ğŸ³ DOCKER
  - docker-compose.yml             â†’ Multi-container setup
  - backend/Dockerfile             â†’ Backend image
  - frontend/Dockerfile            â†’ Frontend image
  - frontend/nginx.conf            â†’ Nginx config

ğŸ“š DOCUMENTAÃ‡ÃƒO
  - README.md                      â†’ Complete documentation
  - QUICK_START.md                 â†’ Getting started guide
  - ARCHITECTURE.md                â†’ Technical architecture
  - PROJECT_STRUCTURE.txt          â†’ This file

âš™ï¸ CONFIGURAÃ‡ÃƒO
  - backend/tsconfig.json          â†’ Backend TypeScript
  - frontend/tsconfig.json         â†’ Frontend TypeScript
  - frontend/vite.config.ts        â†’ Build configuration
  - backend/jest.config.js         â†’ Test configuration
  - backend/.env                   â†’ Environment variables


PRINCIPAIS TECNOLOGIAS
======================

Backend:
  âœ“ Node.js 20
  âœ“ TypeScript
  âœ“ Express.js
  âœ“ pdf-lib (PDF manipulation)
  âœ“ sharp (image processing)
  âœ“ jszip (ZIP handling)
  âœ“ multer (file uploads)
  âœ“ Jest + Supertest (testing)

Frontend:
  âœ“ React 18
  âœ“ TypeScript
  âœ“ Vite (build tool)
  âœ“ Axios (HTTP client)
  âœ“ CSS3

DevOps:
  âœ“ Docker
  âœ“ Docker Compose
  âœ“ Nginx


COMANDOS RÃPIDOS
================

Setup:
  npm run install:all              # Instalar todas as dependÃªncias
  ./setup.sh                       # Linux/Mac
  setup.bat                        # Windows

Desenvolvimento:
  npm run dev                      # Backend + Frontend
  npm run dev:backend              # Apenas backend
  npm run dev:frontend             # Apenas frontend

Testes:
  npm test                         # Rodar testes

Build:
  npm run build                    # Build de produÃ§Ã£o

Docker:
  docker-compose up --build        # Build e iniciar
  docker-compose down              # Parar containers
  docker-compose logs -f           # Ver logs


ENDPOINTS DA API
================

GET  /health                       # Health check
POST /api/process                  # Process PDFs

Request (multipart/form-data):
  - filesZip: File (ZIP)
  - cover: File (PDF/PNG/JPG/SVG)
  - footerHeightPx: Number (optional, default: 10)

Response:
  - Body: ZIP file (processed PDFs)
  - Header: X-Process-Report (JSON array)


FLUXO DE PROCESSAMENTO
======================

1. User uploads ZIP + cover
2. Frontend sends to POST /api/process
3. Backend extracts PDFs from ZIP
4. Backend converts cover (if image)
5. For each PDF:
   a. Replace page 1 with cover
   b. Remove footer from middle pages
   c. Skip last page
6. Backend creates output ZIP
7. Backend sends ZIP + report
8. Frontend triggers download
9. Frontend displays report


PORTAS UTILIZADAS
=================

Development:
  Frontend:  http://localhost:3000
  Backend:   http://localhost:3001

Production (Docker):
  Frontend:  http://localhost:80
  Backend:   http://localhost:3001 (internal)


AUTOR E LICENÃ‡A
===============

LicenÃ§a: MIT
Criado por: Claude (Anthropic)
Data: 2025
